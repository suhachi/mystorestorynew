# 빌드 테스트 가이드

**작성일**: 2024년 1월 25일
**프로젝트**: MyStoreStory
**단계**: 단계 3 - 빌드 테스트

---

## 📌 목표

프로젝트가 정상적으로 빌드되는지 확인합니다.

---

## ⚠️ 사전 준비

### 필수 사항
1. ✅ 환경 변수 설정 (`.env.local` 파일 생성)
2. ✅ 의존성 설치 (`npm install` 또는 `pnpm install`)
3. ✅ Node.js 버전 확인 (권장: Node.js 18 이상)

---

## 🔄 빌드 테스트 단계

### 1. 의존성 확인

```bash
# 의존성 설치 확인
npm install
# 또는
pnpm install
```

### 2. 환경 변수 확인

`.env.local` 파일이 존재하는지 확인:

```bash
# Windows PowerShell
Test-Path .env.local

# 결과가 True여야 함
```

### 3. 빌드 실행

```bash
# 빌드 실행
npm run build
# 또는
pnpm build
```

### 4. 빌드 결과 확인

빌드가 성공하면 `dist/` 폴더가 생성됩니다:

```bash
# Windows PowerShell
Test-Path dist

# 결과가 True여야 함
```

---

## ✅ 빌드 성공 기준

### 1. 빌드 명령어 성공
- ✅ 빌드 명령어가 오류 없이 완료
- ✅ 종료 코드: 0

### 2. 빌드 출력 확인
- ✅ `dist/` 폴더 생성
- ✅ `dist/index.html` 파일 존재
- ✅ `dist/assets/` 폴더에 번들 파일 생성

### 3. 빌드 크기 확인
- ✅ 번들 크기가 합리적인 범위 내
- ✅ 큰 파일이 있는 경우 최적화 필요

---

## ❌ 빌드 실패 시 확인 사항

### 1. 환경 변수 오류
**증상**: `VITE_FIREBASE_API_KEY is not defined` 등의 오류

**해결 방법**:
1. `.env.local` 파일 존재 확인
2. 모든 필수 환경 변수 입력 확인
3. 환경 변수 이름 확인 (VITE_ 접두사 필수)

### 2. 의존성 오류
**증상**: `Cannot find module` 등의 오류

**해결 방법**:
1. `node_modules/` 폴더 삭제
2. `npm install` 또는 `pnpm install` 재실행
3. `package-lock.json` 또는 `pnpm-lock.yaml` 확인

### 3. TypeScript 오류
**증상**: TypeScript 컴파일 오류

**해결 방법**:
1. `tsconfig.json` 설정 확인
2. 타입 오류 수정
3. `@types/*` 패키지 설치 확인

### 4. 빌드 도구 오류
**증상**: Vite 빌드 오류

**해결 방법**:
1. `vite.config.ts` 설정 확인
2. Vite 버전 확인
3. 플러그인 설정 확인

---

## 📋 빌드 테스트 체크리스트

### 사전 준비
- [ ] `.env.local` 파일 생성
- [ ] 모든 필수 환경 변수 입력
- [ ] 의존성 설치 완료
- [ ] Node.js 버전 확인

### 빌드 실행
- [ ] `npm run build` 실행
- [ ] 빌드 오류 없음
- [ ] 빌드 성공 메시지 확인

### 빌드 결과 확인
- [ ] `dist/` 폴더 생성
- [ ] `dist/index.html` 파일 존재
- [ ] `dist/assets/` 폴더에 번들 파일 생성
- [ ] 빌드 크기 확인

---

## 🔄 다음 단계

빌드 테스트가 성공하면 다음 단계로 진행:

### 단계 4: 스테이징 배포
1. Firebase 프로젝트 선택
2. Firestore Rules 배포
3. Firestore Indexes 배포
4. Cloud Functions 배포
5. Firebase Hosting 배포
6. 스모크 테스트 실행

---

## 📊 빌드 최적화 팁

### 1. 번들 크기 최적화
- 코드 스플리팅 사용
- 불필요한 의존성 제거
- Tree shaking 활성화

### 2. 이미지 최적화
- 이미지 압축
- WebP 형식 사용
- Lazy loading 적용

### 3. 코드 최적화
- Dead code 제거
- Minification 활성화
- Source maps 생성 (개발용)

---

**작성일**: 2024년 1월 25일
**상태**: ✅ 빌드 테스트 가이드 작성 완료
**다음 단계**: 환경 변수 설정 후 빌드 테스트 실행

