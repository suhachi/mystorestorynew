# 브랜치 전략

**프로젝트:** MY_STORE_STORYdesign  
**작성일:** 2025년 1월 18일

---

##  브랜치 구조

### main
- **용도:** 배포용 메인 브랜치
- **특징:**
  - 항상 배포 가능한 안정적인 상태 유지
  - 직접 커밋 금지
  - `feat/*` 브랜치에서만 머지
  - 머지 후 자동 또는 수동으로 Firebase 배포

### feat/*
- **용도:** 새 기능/디자인 개발 브랜치
- **예시:**
  - `feat/new-login-design`
  - `feat/app-builder-enhancement`
  - `feat/order-tracking`
- **특징:**
  - 기능별로 브랜치 생성
  - 개발 및 테스트 완료 후 `main`으로 머지
  - 머지 전 코드 리뷰 권장

---

##  워크플로우

### 1. 새 기능 개발 시작
```bash
# main 브랜치에서 최신 버전 가져오기
git checkout main
git pull origin main

# 새 기능 브랜치 생성
git checkout -b feat/new-feature-name

# 개발 시작...
```

### 2. 개발 및 테스트
```bash
# 로컬에서 테스트
npm run dev

# 빌드 테스트
npm run build

# 문제 없으면 커밋
git add .
git commit -m "feat: 새 기능 추가"
git push origin feat/new-feature-name
```

### 3. main 브랜치로 머지
```bash
# main 브랜치로 전환
git checkout main
git pull origin main

# feat 브랜치 머지
git merge feat/new-feature-name

# 충돌 해결 후 푸시
git push origin main
```

### 4. 배포
```bash
# Firebase 배포
firebase deploy --only hosting

# 또는 전체 배포
firebase deploy
```

---

##  머지 전 체크리스트

- [ ] 로컬 빌드 성공 (`npm run build`)
- [ ] 주요 기능 테스트 완료
- [ ] 브라우저 콘솔 에러 없음
- [ ] 코드 리뷰 완료 (필요시)
- [ ] 문서 업데이트 (필요시)

---

##  배포 프로세스

### 자동 배포 (권장)
1. `feat/*` 브랜치  `main` 머지
2. GitHub Actions 또는 CI/CD 파이프라인으로 자동 배포

### 수동 배포
1. `feat/*` 브랜치  `main` 머지
2. 로컬에서 최신 `main` 브랜치 체크아웃
3. `npm run build` 실행
4. `firebase deploy --only hosting` 실행

---

##  주의사항

### main 브랜치
-  직접 커밋 금지
-  실험적 코드 금지
-  항상 배포 가능한 상태 유지

### feat/* 브랜치
-  자유롭게 개발 가능
-  여러 커밋 가능
-  머지 전 정리 권장

---

##  브랜치 네이밍 규칙

### 기능 개발
```
feat/기능명
예: feat/user-profile, feat/payment-integration
```

### 버그 수정
```
fix/버그명
예: fix/login-error, fix/mobile-layout
```

### 디자인 변경
```
design/변경사항
예: design/landing-page, design/dashboard-ui
```

---

##  현재 브랜치 확인

```bash
# 현재 브랜치 확인
git branch

# 원격 브랜치 포함
git branch -a

# 브랜치 전환
git checkout 브랜치명
```

---

##  참고사항

- 브랜치 전략은 프로젝트 규모에 따라 조정 가능
- 팀 규모가 커지면 `develop`, `staging` 브랜치 추가 고려
- 현재는 간단한 `main` + `feat/*` 구조로 충분

---

**업데이트:** 2025년 1월 18일  
**다음 검토:** 프로젝트 규모 확대 시