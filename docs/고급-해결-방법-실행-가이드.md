# 고급 해결 방법 실행 가이드

**작성일**: 2024년 1월 25일
**상태**: 실행 중

---

## 🔍 진단 결과

### ✅ 정상 작동
- ✅ 인터넷 연결: 정상 (8.8.8.8 ping 성공)
- ✅ 기본 DNS: 정상 (cursor.sh 해석 성공)
- ✅ 프록시 설정: 없음 (정상)
- ✅ 방화벽: Cursor 관련 규칙 없음 (기본 허용 상태)

### ⚠️ 문제 발견
- ❌ **api.cursor.sh DNS 해석 실패**: 이것이 주요 원인일 가능성이 높습니다!

---

## 🎯 해결 방법 (우선순위 순)

### 방법 1: DNS 서버 변경 (가장 권장)

**현재 DNS**: Davolink (1.214.68.2)
**문제**: api.cursor.sh를 해석하지 못함

#### Windows에서 DNS 변경 방법

1. **네트워크 설정 열기**
   ```
   설정 → 네트워크 및 인터넷 → 어댑터 옵션 변경
   ```

2. **활성 네트워크 어댑터 선택**
   - Wi-Fi 또는 이더넷 어댑터 우클릭
   - "속성" 선택

3. **DNS 설정 변경**
   - "인터넷 프로토콜 버전 4(TCP/IPv4)" 선택
   - "속성" 클릭
   - "다음 DNS 서버 주소 사용" 선택
   - 다음 DNS 서버 입력:
     ```
     기본 DNS 서버: 8.8.8.8
     보조 DNS 서버: 8.8.4.4
     ```
   - 또는:
     ```
     기본 DNS 서버: 1.1.1.1
     보조 DNS 서버: 1.0.0.1
     ```

4. **확인 후 네트워크 재연결**

#### PowerShell로 빠르게 변경 (관리자 권한 필요)

```powershell
# 현재 네트워크 어댑터 확인
Get-NetAdapter | Where-Object {$_.Status -eq "Up"}

# DNS 서버 변경 (어댑터 이름을 실제 이름으로 변경)
Set-DnsClientServerAddress -InterfaceAlias "이더넷" -ServerAddresses "8.8.8.8","8.8.4.4"

# 또는 Cloudflare DNS
Set-DnsClientServerAddress -InterfaceAlias "이더넷" -ServerAddresses "1.1.1.1","1.0.0.1"
```

#### DNS 변경 후 확인

```powershell
# DNS 해석 테스트
nslookup api.cursor.sh

# 성공하면 주소가 표시되어야 함
```

---

### 방법 2: hosts 파일에 직접 추가 (임시 해결)

**위치**: `C:\Windows\System32\drivers\etc\hosts`

1. **관리자 권한으로 메모장 실행**
   ```
   Win + R → notepad 입력 → Ctrl + Shift + Enter (관리자 권한)
   ```

2. **hosts 파일 열기**
   ```
   파일 → 열기 → C:\Windows\System32\drivers\etc\hosts
   ```

3. **다음 내용 추가** (api.cursor.sh의 실제 IP 주소 확인 필요)
   ```
   # Cursor API
   76.76.21.21 api.cursor.sh
   ```

4. **저장 후 Cursor 재시작**

**주의**: 이 방법은 임시 해결책이며, IP 주소가 변경될 수 있습니다.

---

### 방법 3: 방화벽 규칙 명시적 추가

#### Windows 방화벽에서 Cursor 허용

1. **Windows 보안 열기**
   ```
   설정 → 개인 정보 보호 및 보안 → Windows 보안 → 방화벽 및 네트워크 보호
   ```

2. **고급 설정**
   - "고급 설정" 클릭
   - "인바운드 규칙" → "새 규칙"
   - "프로그램" 선택
   - Cursor 실행 파일 경로 지정:
     ```
     C:\Users\[사용자명]\AppData\Local\Programs\cursor\Cursor.exe
     ```
   - "연결 허용" 선택
   - 모든 프로필에 적용
   - 이름: "Cursor - Allow All"

3. **아웃바운드 규칙도 동일하게 추가**

#### PowerShell로 방화벽 규칙 추가 (관리자 권한)

```powershell
# Cursor 경로 확인
$cursorPath = Get-Process -Name "Cursor" -ErrorAction SilentlyContinue | Select-Object -First 1 -ExpandProperty Path

# 방화벽 규칙 추가
New-NetFirewallRule -DisplayName "Cursor - Allow Outbound" -Direction Outbound -Program $cursorPath -Action Allow
New-NetFirewallRule -DisplayName "Cursor - Allow Inbound" -Direction Inbound -Program $cursorPath -Action Allow
```

---

### 방법 4: DNS 캐시 초기화

```powershell
# 관리자 권한 PowerShell에서 실행
ipconfig /flushdns
ipconfig /registerdns
ipconfig /release
ipconfig /renew

# DNS 클라이언트 서비스 재시작
Restart-Service -Name "Dnscache" -Force
```

---

### 방법 5: Cursor 설정 확인

1. **Cursor 설정 열기**
   ```
   File → Preferences → Settings
   또는
   Ctrl + ,
   ```

2. **확인할 항목**
   - Proxy 설정: `cursor.proxy` 검색
   - HTTP 설정: `cursor.http` 검색
   - 네트워크 관련 설정 확인

3. **설정 파일 직접 확인**
   ```
   %APPDATA%\Cursor\User\settings.json
   ```

---

### 방법 6: VPN/프록시 소프트웨어 확인

다음 소프트웨어가 실행 중인지 확인:
- VPN 클라이언트
- 프록시 소프트웨어
- 보안 소프트웨어 (방화벽 기능 포함)
- 회사 네트워크 정책

**해결 방법**:
- VPN을 일시적으로 비활성화하고 테스트
- Cursor를 예외 목록에 추가
- 회사 네트워크 관리자에게 문의

---

## 📋 실행 체크리스트

### 즉시 실행 (5분)
- [ ] DNS 서버를 8.8.8.8로 변경
- [ ] DNS 캐시 초기화 (`ipconfig /flushdns`)
- [ ] Cursor 재시작
- [ ] `nslookup api.cursor.sh` 테스트

### 추가 조치 (10분)
- [ ] 방화벽에서 Cursor 명시적 허용
- [ ] VPN/프록시 소프트웨어 확인
- [ ] Cursor 설정 파일 확인

### 고급 조치 (필요시)
- [ ] hosts 파일에 직접 추가
- [ ] 네트워크 어댑터 재설정
- [ ] 시스템 재부팅

---

## 🔧 PowerShell 스크립트 (자동화)

다음 스크립트를 관리자 권한 PowerShell에서 실행:

```powershell
# DNS 캐시 초기화
Write-Host "DNS 캐시 초기화 중..." -ForegroundColor Yellow
ipconfig /flushdns
Restart-Service -Name "Dnscache" -Force

# DNS 서버 변경 (현재 활성 어댑터에 적용)
Write-Host "DNS 서버 변경 중..." -ForegroundColor Yellow
$adapter = Get-NetAdapter | Where-Object {$_.Status -eq "Up"} | Select-Object -First 1
if ($adapter) {
    Set-DnsClientServerAddress -InterfaceAlias $adapter.Name -ServerAddresses "8.8.8.8","8.8.4.4"
    Write-Host "DNS 서버가 Google DNS(8.8.8.8)로 변경되었습니다." -ForegroundColor Green
} else {
    Write-Host "활성 네트워크 어댑터를 찾을 수 없습니다." -ForegroundColor Red
}

# DNS 해석 테스트
Write-Host "`nDNS 해석 테스트 중..." -ForegroundColor Yellow
$result = Resolve-DnsName -Name "api.cursor.sh" -ErrorAction SilentlyContinue
if ($result) {
    Write-Host "✅ api.cursor.sh 해석 성공!" -ForegroundColor Green
    $result | Format-Table
} else {
    Write-Host "❌ api.cursor.sh 해석 실패" -ForegroundColor Red
}

Write-Host "`n작업 완료. Cursor를 재시작하세요." -ForegroundColor Cyan
```

---

## 📊 테스트 명령어

### DNS 해석 테스트
```powershell
# Cursor 관련 도메인 테스트
nslookup cursor.sh
nslookup api.cursor.sh
nslookup www.cursor.sh

# Google DNS로 직접 테스트
nslookup api.cursor.sh 8.8.8.8
```

### 네트워크 연결 테스트
```powershell
# Cursor API 서버 연결 테스트
Test-NetConnection -ComputerName api.cursor.sh -Port 443
```

### 현재 DNS 설정 확인
```powershell
Get-DnsClientServerAddress | Format-Table
```

---

## 🎯 권장 실행 순서

1. **DNS 캐시 초기화** (1분)
   ```powershell
   ipconfig /flushdns
   ```

2. **DNS 서버 변경** (2분)
   - Google DNS (8.8.8.8) 또는 Cloudflare DNS (1.1.1.1)로 변경

3. **DNS 해석 테스트** (1분)
   ```powershell
   nslookup api.cursor.sh
   ```

4. **Cursor 재시작** (1분)

5. **문제 지속 시**: 방화벽 규칙 추가 및 VPN 확인

---

## 📝 결과 기록

### 실행 전 상태
- DNS 서버: Davolink (1.214.68.2)
- api.cursor.sh 해석: ❌ 실패
- 인터넷 연결: ✅ 정상

### 실행 후 상태
- [ ] DNS 서버: ___________
- [ ] api.cursor.sh 해석: ___________
- [ ] Cursor 연결: ___________

---

## ⚠️ 주의사항

1. **DNS 변경 시**: 일부 사이트 접속이 느려질 수 있음
2. **방화벽 규칙**: 보안 정책에 따라 제한될 수 있음
3. **회사 네트워크**: IT 관리자 승인 필요할 수 있음
4. **VPN 사용 시**: VPN의 DNS 설정도 확인 필요

---

## 🔗 참고 자료

- [Google Public DNS](https://developers.google.com/speed/public-dns)
- [Cloudflare DNS](https://1.1.1.1/dns/)
- [Cursor 공식 문서](https://cursor.sh/docs)

---

**작성일**: 2024년 1월 25일
**상태**: ✅ 가이드 완성
**다음 단계**: DNS 서버 변경 실행

